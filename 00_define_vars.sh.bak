#!/bin/bash
#put your configuration variables in this file
#save it without the .sample extension
#make sure it is executable
#printf '%s' "Defining variables... "

#  AWS settings
#export AWS_REGION='eu-central-1'
#export AWS_ACCESS_KEY_ID="AKIAXQX6MQ327CXMAFP5"
#export AWS_SECRET_ACCESS_KEY="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"
export AWS_PROJECT='cloudone01'    #may only contain lowercase, no numbers, no "-", no "_",...
export AWS_EKS_NODES='2'

# Deep Security Smart Check settings (for pre-runtime scanning)
#export DSSC_AC='CV-2WLZ-Y5ED7-S9MYQ-SGEZK-Z3TP7-DGJTH'
#export DSSC_AC='AP-6M64-A3TQ9-XNUCJ-WL5AA-4JHSZ-56UEA'
export DSSC_AC='DK-YX8X-6USKW-TELF5-5BNS4-42G7Q-VA4DB'
#key expires 24-ish feb 2021
# Cloud One Application Security settings (for runtime protection)
export TREND_AP_KEY='c630c28f-854e-415d-918e-a2f21aa25c0b'
export TREND_AP_SECRET='af0995db-19c8-4f12-85ed-a7255f9baffc'

#Cloud One Container Security Settings:
export C1APIKEY='9E5512E9-1BA1-15A3-0A53-C731ECF62898:F32C1B2D-C066-A5BF-DECA-268220D460FD:yr/LPj+QLDxCUM9vJIUD6LQeF7cDjgwNWdda3DiAFSw='

# Dockerhub account information (required to do "authenticated pulls" from docker to get a higher max-pull limit)
export DOCKERHUB_USERNAME="cvdabbeele"
export DOCKERHUB_PASSWORD="Intern0t!"

# APPS
# using distinct variables as exporting arrays in bash is still troublesome
export APP_GIT_URL1='https://github.com/cvdabbeele/c1-app-sec-moneyx.git'
export APP_GIT_URL2='https://github.com/cvdabbeele/troopers.git'
export APP_GIT_URL3='https://github.com/cvdabbeele/mydvwa.git'

#### -------------------------------------------------------------------------------------------------------
#### ----------below this line are default settings which may be customised (optionally) ----------
#### -------------------------------------------------------------------------------------------------------
export DSSC_NAMESPACE='smartcheck' #Namespace to deploy Cloud One Container Security'
export DSSC_USERNAME='administrator'
export DSSC_TEMPPW='trendmicro'   #this temporarily password will be overwritten by the DSSC_PASSWORD, but it must be defined and it must be different from the DSSC_PASSWORD
export DSSC_PASSWORD='Tr3ndm1cr0!'
export DSSC_HOST='will be generated by this script'
export DSSC_REGUSER='administrator'
export DSSC_REGPASSWORD='Tr3ndm1cr0!'

# Generating names for Apps, Stack, Pipelines, ECR, CodeCommit repo,..."
#generate the names of the apps from the git URL
export APP1=`echo ${APP_GIT_URL1} | awk -F"/" '{print $NF}' | awk -F"." '{ print $1 }' | tr -cd '[:alnum:]'| awk '{ print tolower($1) }'`
export APP2=`echo ${APP_GIT_URL2} | awk -F"/" '{print $NF}' | awk -F"." '{ print $1 }' | tr -cd '[:alnum:]'| awk '{ print tolower($1) }'`
export APP3=`echo ${APP_GIT_URL3} | awk -F"/" '{print $NF}' | awk -F"." '{ print $1 }' | tr -cd '[:alnum:]'| awk '{ print tolower($1) }'`
